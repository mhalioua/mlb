<% content_for :title, @team.stadium %>
<ul class="list-group">
  <li class="list-group-item"><%= link_to 'Home', { controller: 'index', action: 'home' }%></li>
</ul>
<% wind_dirs = %w(North NNW NW WNW West WSW SW SSW South SSE SE ESE East ENE NE NNE) %>
<table class="table-bordered">
  <tr>
    <td></td>
    <td colspan="31"><%= @team.stadium %></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <% wind_dirs.each do |wind_dir| %>
      <td colspan="2"><%= wind_dir %></td>
    <% end %>
  </tr>
  <tr>
    <td></td>
    <% wind_dirs.each do |wind_dir| %>
      <td>gms</td>
      <td>runs</td>
    <% end %>
  </tr>
  <% (1..25).each do |wind| %>
    <tr>
      <td><%= "#{wind}#{wind === 25 ? '+' : ''}" %> mph</td>

      <% wind_dirs.each do |wind_dir|
        stadium_data = StadiumDatum.find_or_create_by(team_id: team.id, wind_dir: wind_dir, wind_speed: wind)
      %>
        <td><%= stadium_data.count %></td>
        <td><%= stadium_data.result %></td>
      <% end %>
    </tr>
  <% end %>
</table>